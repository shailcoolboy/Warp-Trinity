<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">	<meta name="generator" content="ScreenSteps http://www.screensteps.com/" />	<title>XPS Intro - Implementing the hardware platform</title>	<link href="../neutral.css" media="screen" rel="stylesheet" type="text/css" /></head><body class="lucida">	<div id="wrapper">				<div id="header">			<a id="logo" href="http://warp.rice.edu/trac/"><img src="http://warp.rice.edu/images/warpLogo.jpg" alt="Rice University WARP - Wireless Open-Access Research Platform" height="45" width="285" /></a>		</div>	<div id="mainnav" class="nav">		<ul>			<li class="first active"><a href="/trac/wiki">Home</a></li><li><a href="/forums">Forums</a></li><li><a href="/trac/browser">Browse Source</a></li>		</ul>	</div>		<div id="LessonContent">			<div class="LessonHeader">				<h1 class="LessonTitle">XPS Intro - Implementing the hardware platform</h1>			</div>				<div class="summary">		<p>This section goes over the basic steps to create the hardware bitstream.</p>	</div>							<div id="step_1" class="lessonStep top">	    		<div class="image"><a href="images/XPS_Intro_-_Implementing_the_hardware_platform/SysAssemblyView_labeled_lg.png" class="image" target="_blank"><img src="images/XPS_Intro_-_Implementing_the_hardware_platform/SysAssemblyView_labeled.png" width="580" height="286"></a><div class="caption"><a href="images/XPS_Intro_-_Implementing_the_hardware_platform/SysAssemblyView_labeled_lg.png" target="_blank">Zoom</a></div></div> <p>The main XPS window is divided into three primary areas:</p><p><strong>Platform Files</strong>: This pane lists the files which describe your project. It also lists the configuration files used to drive the hardware implementation processes. There are three panes for this view:<br /><strong>  &bull; Project: </strong>Lists the EDK files which describe your hardware (MHS/UCF) and software (MSS) projects. It also lists configuration files which drive the back-end tools.<br /><strong>  &bull; Applications: </strong>Lists your software applications (used below).<br /><strong>  &bull; IP Catalog:</strong> This view lists all of the peripheral cores available to build your hardware platform. These cores are drawn from Xilinx-provided cores distributed with the EDK, WARP-supplied cores and cores of your own design. </p><p><strong>System Assembly View:</strong><br />The hardware design is composed of multiple processor, bus and peripheral cores. Each core is listed in this pane. The system assembly view pane has three displays:<br /><strong>  &bull; Bus Interfaces</strong>: Lists each core's bus connectivity. Some cores are attached to the PLB; some (like clock_generator_0) are not attached to any bus.<br /><strong>  &bull;&nbsp;Ports:</strong> In addition to bus interfacs, some cores have core-to-core connections in hardware. Each core's top-level ports and their connections are shown in this view <br /><strong>  &bull;&nbsp;Addresses</strong>: Peripherals with bus connections are mapped into the address space of the PowerPC processor. This view configures the address space for each core.</p><p><strong>Log Viewer:</strong> XPS uses many back-end tools to synthesize hardware and compile software. This viewer displays the output as these tools run. This is where to look for error messages if your build fails.</p>	</div>	<div class="clear"></div>	<div id="step_2" class="lessonStep top">	    		<div class="image"><a href="images/XPS_Intro_-_Implementing_the_hardware_platform/media_1265824217494_lg.png" class="image" target="_blank"><img src="images/XPS_Intro_-_Implementing_the_hardware_platform/media_1265824217494.png" width="580" height="249"></a><div class="caption"><a href="images/XPS_Intro_-_Implementing_the_hardware_platform/media_1265824217494_lg.png" target="_blank">Zoom</a></div></div> <p>Skip this step if you are using FPGA Board v1.2. As the FPGAv2 uses the Clock Board to drive the FPGA, the DCM must be held in reset while the Clock Board is being configured. To make this possible connect 'config_invalid' on the clock_board_config to the RST port of clock_generator_0, as shown above.</p>	</div>	<div class="clear"></div>	<div id="step_3" class="lessonStep top">	    		<div class="image"><a href="images/XPS_Intro_-_Implementing_the_hardware_platform/media_1265824296149_lg.png" class="image" target="_blank"><img src="images/XPS_Intro_-_Implementing_the_hardware_platform/media_1265824296149.png" width="580" height="170"></a><div class="caption"><a href="images/XPS_Intro_-_Implementing_the_hardware_platform/media_1265824296149_lg.png" target="_blank">Zoom</a></div></div> <p>Skip this step if you are using FPGA Board v1.2. In this project we also enabled the radio_bridge peripheral to allow the hardware and software to talk to the Radio Board. However, the clock that is available to the Radio Board must also be available the radio_bridge peripheral. To enable this, connect 'converter_clock_in' on radio_bridge_slot_2 to 'sys_clk_s'.</p>	</div>	<div class="clear"></div>	<div id="step_4" class="lessonStep top">	    		<div class="image"><a href="images/XPS_Intro_-_Implementing_the_hardware_platform/media_1215633920202_lg.png" class="image" target="_blank"><img src="images/XPS_Intro_-_Implementing_the_hardware_platform/media_1215633920202.png" width="580" height="324"></a><div class="caption"><a href="images/XPS_Intro_-_Implementing_the_hardware_platform/media_1215633920202_lg.png" target="_blank">Zoom</a></div></div> <p>Switch to the Address view in the System Assembly View panel. Click <strong>Generate Addresses</strong>; the log viewer will display the auto-generated address map for your PowerPC processor.</p>	</div>	<div class="clear"></div>	<div id="step_5" class="lessonStep top">	    		<div class="image"><a href="images/XPS_Intro_-_Implementing_the_hardware_platform/media_1215634025193_lg.png" class="image" target="_blank"><img src="images/XPS_Intro_-_Implementing_the_hardware_platform/media_1215634025193.png" width="580" height="326"></a><div class="caption"><a href="images/XPS_Intro_-_Implementing_the_hardware_platform/media_1215634025193_lg.png" target="_blank">Zoom</a></div></div> <p>From the <strong>Hardware</strong> menu, select <strong>Generate Bistream</strong>. This will initiate the hardware synthesis process. The EDK will use tools from Xilinx ISE to synthesize the VHDL description of each peripheral, apply timing and I/O constraints, map the design into hardware and generate an FPGA configuration file (the bitstream). This process will take a few minutes, depending on the speed of your PC.</p>	</div>	<div class="clear"></div>	<div id="step_6" class="lessonStep top">	    		<div class="image"><a href="images/XPS_Intro_-_Implementing_the_hardware_platform/media_1215634981586_lg.png" class="image" target="_blank"><img src="images/XPS_Intro_-_Implementing_the_hardware_platform/media_1215634981586.png" width="580" height="324"></a><div class="caption"><a href="images/XPS_Intro_-_Implementing_the_hardware_platform/media_1215634981586_lg.png" target="_blank">Zoom</a></div></div> <p>When the log viewer displays <strong>Bitstream generation is complete</strong>, the hardware platform is fully synthesized and ready for use. Several warnings will come up during the synthesis but if <strong>Done!</strong> appears then the generation is complete. If not, then errors were thrown and need to be investigated.</p><p>The next section describes how to create a software project which runs on this hardware design.</p>	</div>	<div class="clear"></div>		</div>		<div id="lessonNavigation">			<table>				<tr>					<td class="lessonNav_Left"><a href="Base_System_Builder_-_FPGA_Board_v2.html">&lt;&lt; Base System Builder - FPGA Board v2.2</a></td>					<td class="lessonNav_TOC"><a href="../XPS_Intro.html">Top</a></td>					<td class="lessonNav_Right"><a href="XPS_Intro_-_Implementing_the_software_design.html">XPS Intro - Implementing the software design &gt;&gt;</a> </td>				</tr>			</table>		</div>	</div>	</body></html>